class Solution {
    Map<String, List<Integer>> map = new HashMap();
    public List<Integer> diffWaysToCompute(String input) {
        List<Integer> list = new ArrayList();
        for(int i=0;i<input.length();i++){
            char c = input.charAt(i);
            if(c=='+' || c=='-' || c=='*'){
                String left = input.substring(0,i);
                String right = input.substring(i+1);
                List<Integer> leftlist = map.getOrDefault(left, diffWaysToCompute(left));
                List<Integer> rightlist = map.getOrDefault(right, diffWaysToCompute(right));
                for(Integer l:leftlist){
                    for(Integer r:rightlist){
                        if(c=='+') list.add(l+r);
                        else if(c=='-') list.add(l-r);
                        else list.add(l*r);
                    }
                }
            }
        }
        if(list.size()==0){
            list.add(Integer.parseInt(input));
        }
        map.put(input, list);
        return list;
    }
}
